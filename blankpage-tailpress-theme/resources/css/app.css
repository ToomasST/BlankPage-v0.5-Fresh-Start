@import "tailwindcss";

@theme {
  /* Estonian Brand Colors (OKLCH format for wider gamut) */
  --color-brand-50: oklch(0.98 0.02 250);
  --color-brand-100: oklch(0.95 0.05 250);
  --color-brand-200: oklch(0.9 0.1 250);
  --color-brand-300: oklch(0.82 0.15 250);
  --color-brand-400: oklch(0.7 0.18 250);
  --color-brand-500: oklch(0.55 0.2 250);
  --color-brand-600: oklch(0.45 0.22 250);
  --color-brand-700: oklch(0.35 0.2 250);
  --color-brand-800: oklch(0.25 0.15 250);
  --color-brand-900: oklch(0.15 0.1 250);

  /* Extended Semantic Colors (OKLCH format) */
  --color-success-50: oklch(0.95 0.05 140);
  --color-success-100: oklch(0.9 0.08 140);
  --color-success-500: oklch(0.6 0.15 140);
  --color-success-600: oklch(0.5 0.18 140);
  --color-success-700: oklch(0.4 0.2 140);
  --color-success-800: oklch(0.3 0.18 140);

  --color-warning-50: oklch(0.95 0.05 65);
  --color-warning-100: oklch(0.9 0.08 65);
  --color-warning-500: oklch(0.7 0.15 65);
  --color-warning-600: oklch(0.6 0.18 65);
  --color-warning-700: oklch(0.5 0.2 65);
  --color-warning-800: oklch(0.4 0.18 65);

  --color-error-50: oklch(0.95 0.05 25);
  --color-error-100: oklch(0.9 0.08 25);
  --color-error-500: oklch(0.55 0.22 25);
  --color-error-600: oklch(0.45 0.25 25);
  --color-error-700: oklch(0.35 0.2 25);
  --color-error-800: oklch(0.25 0.18 25);

  /* Neutral Gray Scale (OKLCH) */
  --color-gray-50: oklch(0.98 0 0);
  --color-gray-100: oklch(0.94 0 0);
  --color-gray-200: oklch(0.89 0 0);
  --color-gray-300: oklch(0.82 0 0);
  --color-gray-400: oklch(0.62 0 0);
  --color-gray-500: oklch(0.42 0 0);
  --color-gray-600: oklch(0.29 0 0);
  --color-gray-700: oklch(0.22 0 0);
  --color-gray-800: oklch(0.12 0 0);
  --color-gray-900: oklch(0.07 0 0);

  /* Typography Scale & Fonts */
  --font-display: "Inter", system-ui, -apple-system, sans-serif;
  --font-body: "Inter", system-ui, -apple-system, sans-serif;
  --font-mono: "JetBrains Mono", "Fira Code", monospace;

  --text-2xs: 0.625rem;
  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-base: 1rem;
  --text-lg: 1.125rem;
  --text-xl: 1.25rem;
  --text-2xl: 1.5rem;
  --text-3xl: 1.875rem;
  --text-4xl: 2.25rem;
  --text-5xl: 3rem;
  --text-6xl: 3.75rem;

  --line-height-tight: 1.25;
  --line-height-snug: 1.375;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.625;
  --line-height-loose: 2;

  /* Spacing Scale */
  --spacing-px: 1px;
  --spacing-0: 0;
  --spacing-1: 0.25rem;
  --spacing-2: 0.5rem;
  --spacing-3: 0.75rem;
  --spacing-4: 1rem;
  --spacing-5: 1.25rem;
  --spacing-6: 1.5rem;
  --spacing-8: 2rem;
  --spacing-10: 2.5rem;
  --spacing-12: 3rem;
  --spacing-16: 4rem;
  --spacing-20: 5rem;
  --spacing-24: 6rem;
  --spacing-32: 8rem;

  /* Shadow System */
  --shadow-sm: 0 1px 2px 0 oklch(0.07 0 0 / 0.05);
  --shadow-base:
    0 1px 3px 0 oklch(0.07 0 0 / 0.1), 0 1px 2px -1px oklch(0.07 0 0 / 0.1);
  --shadow-md:
    0 4px 6px -1px oklch(0.07 0 0 / 0.1), 0 2px 4px -2px oklch(0.07 0 0 / 0.1);
  --shadow-lg:
    0 10px 15px -3px oklch(0.07 0 0 / 0.1), 0 4px 6px -4px oklch(0.07 0 0 / 0.1);
  --shadow-xl:
    0 20px 25px -5px oklch(0.07 0 0 / 0.1),
    0 8px 10px -6px oklch(0.07 0 0 / 0.1);

  /* Border Radius */
  --radius-none: 0;
  --radius-sm: 0.125rem;
  --radius-base: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;
  --radius-full: 9999px;

  /* Transitions */
  --transition-colors:
    color 150ms cubic-bezier(0.4, 0, 0.2, 1),
    background-color 150ms cubic-bezier(0.4, 0, 0.2, 1),
    border-color 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-all: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-transform: transform 150ms cubic-bezier(0.4, 0, 0.2, 1);

  /* Responsive Breakpoints */
  --breakpoint-xs: 480px;
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;
  --breakpoint-3xl: 1920px;

  /* WordPress Integration */
  --color-primary: var(--wp--preset--color--primary, var(--color-brand-600));
  --color-secondary: var(--wp--preset--color--secondary, var(--color-gray-600));
  --color-dark: var(--wp--preset--color--dark, var(--color-gray-900));
  --color-light: var(--wp--preset--color--light, var(--color-gray-50));
}

/* Content Detection Sources */
@source '../../vendor/tailpress/framework/**/*.php';
@source '../../vendor/tailpress/framework/**/**/*.php';

/* Import other CSS files with explicit layer assignment */
@import "./utilities.css"; /* No layer wrapper - contains @utility directives */
@import "./custom.css" layer(utilities);
@import "./components/woocommerce.css" layer(components);

/* Note: Custom utilities are defined in utilities.css to avoid conflicts */

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  /* Base border color fix for Tailwind CSS 4.0 */
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }

  /* Typography Hierarchy */
  h1 {
    font-family: var(--font-display);
    font-size: var(--font-size-4xl);
    font-weight: 700;
    line-height: var(--line-height-tight);
    color: var(--color-gray-900);
    margin-bottom: var(--spacing-6);
  }

  h2 {
    font-family: var(--font-display);
    font-size: var(--font-size-3xl);
    font-weight: 600;
    line-height: var(--line-height-tight);
    color: var(--color-gray-900);
    margin-bottom: var(--spacing-5);
  }

  h3 {
    font-family: var(--font-display);
    font-size: var(--font-size-2xl);
    font-weight: 600;
    line-height: var(--line-height-snug);
    color: var(--color-gray-900);
    margin-bottom: var(--spacing-4);
  }

  h4 {
    font-family: var(--font-display);
    font-size: var(--font-size-xl);
    font-weight: 600;
    line-height: var(--line-height-snug);
    color: var(--color-gray-900);
    margin-bottom: var(--spacing-3);
  }

  h5 {
    font-family: var(--font-display);
    font-size: var(--font-size-lg);
    font-weight: 600;
    line-height: var(--line-height-normal);
    color: var(--color-gray-900);
    margin-bottom: var(--spacing-3);
  }

  h6 {
    font-family: var(--font-display);
    font-size: var(--font-size-base);
    font-weight: 600;
    line-height: var(--line-height-normal);
    color: var(--color-gray-900);
    margin-bottom: var(--spacing-2);
  }

  /* Responsive Typography */
  @media (min-width: 768px) {
    h1 {
      font-size: var(--font-size-5xl);
    }

    h2 {
      font-size: var(--font-size-4xl);
    }

    h3 {
      font-size: var(--font-size-3xl);
    }
  }

  @media (min-width: 1024px) {
    h1 {
      font-size: var(--font-size-6xl);
    }
  }

  /* Body Text */
  p {
    font-family: var(--font-body);
    font-size: var(--font-size-base);
    line-height: var(--line-height-relaxed);
    color: var(--color-gray-700);
    margin-bottom: var(--spacing-4);
  }

  /* Links */
  a {
    color: var(--color-brand-600);
    text-decoration: none;
    transition: var(--transition-colors);
  }

  a:hover {
    color: var(--color-brand-700);
    text-decoration: underline;
  }

  a:focus {
    outline: 2px solid var(--color-brand-500);
    outline-offset: 2px;
    border-radius: var(--radius-sm);
  }

  /* Lists */
  ul,
  ol {
    font-family: var(--font-body);
    font-size: var(--font-size-base);
    line-height: var(--line-height-relaxed);
    color: var(--color-gray-700);
    margin-bottom: var(--spacing-4);
    padding-left: var(--spacing-6);
  }

  li {
    margin-bottom: var(--spacing-1);
  }

  /* Form Elements */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="search"],
  input[type="tel"],
  input[type="url"],
  input[type="number"],
  textarea,
  select {
    display: block;
    width: 100%;
    padding: var(--spacing-3);
    font-size: var(--font-size-base);
    line-height: var(--line-height-normal);
    color: var(--color-gray-900);
    background-color: white;
    border: 1px solid var(--color-gray-300);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-sm);
    transition: var(--transition-colors);
  }

  input:focus,
  textarea:focus,
  select:focus {
    outline: none;
    border-color: var(--color-brand-500);
    box-shadow: 0 0 0 3px var(--color-brand-500 / 0.1);
  }

  /* Button Base */
  button,
  [type="button"],
  [type="submit"],
  [type="reset"] {
    font-family: var(--font-display);
    font-weight: 500;
    border-radius: var(--radius-md);
    transition: var(--transition-all);
    cursor: pointer;
  }

  button:focus,
  [type="button"]:focus,
  [type="submit"]:focus,
  [type="reset"]:focus {
    outline: none;
    box-shadow: 0 0 0 3px var(--color-brand-500 / 0.2);
  }

  /* Code Elements */
  code {
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    color: var(--color-gray-800);
    background-color: var(--color-gray-100);
    padding: var(--spacing-1) var(--spacing-2);
    border-radius: var(--radius-sm);
  }

  pre {
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    line-height: var(--line-height-relaxed);
    color: var(--color-gray-800);
    background-color: var(--color-gray-100);
    padding: var(--spacing-4);
    border-radius: var(--radius-lg);
    overflow-x: auto;
    margin-bottom: var(--spacing-4);
  }

  pre code {
    background: none;
    padding: 0;
  }
}

/* Component Library */
@layer components {
  /* Button Components */
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-2);
    padding: var(--spacing-3) var(--spacing-4);
    font-family: var(--font-display);
    font-size: var(--font-size-sm);
    font-weight: 500;
    line-height: var(--line-height-tight);
    border: 1px solid transparent;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: var(--transition-all);
    text-decoration: none;
  }

  .btn:focus {
    outline: none;
    box-shadow: 0 0 0 3px var(--color-brand-500 / 0.2);
  }

  .btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  /* Button Variants */
  .btn-primary {
    background-color: var(--color-brand-600);
    color: white;
    border-color: var(--color-brand-600);
  }

  .btn-primary:hover:not(:disabled) {
    background-color: var(--color-brand-700);
    border-color: var(--color-brand-700);
  }

  .btn-secondary {
    background-color: var(--color-gray-200);
    color: var(--color-gray-900);
    border-color: var(--color-gray-200);
  }

  .btn-secondary:hover:not(:disabled) {
    background-color: var(--color-gray-300);
    border-color: var(--color-gray-300);
  }

  .btn-success {
    background-color: var(--color-success-600);
    color: white;
    border-color: var(--color-success-600);
  }

  .btn-success:hover:not(:disabled) {
    background-color: var(--color-success-700);
    border-color: var(--color-success-700);
  }

  .btn-outline {
    background-color: transparent;
    color: var(--color-gray-700);
    border-color: var(--color-gray-300);
  }

  .btn-outline:hover:not(:disabled) {
    background-color: var(--color-gray-50);
    border-color: var(--color-gray-400);
  }

  /* Button Sizes */
  .btn-sm {
    padding: var(--spacing-2) var(--spacing-3);
    font-size: var(--font-size-xs);
    gap: var(--spacing-1);
  }

  .btn-lg {
    padding: var(--spacing-4) var(--spacing-6);
    font-size: var(--font-size-base);
    gap: var(--spacing-3);
  }

  /* Card Components */
  .card {
    background-color: white;
    border: 1px solid var(--color-gray-200);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    overflow: hidden;
  }

  .card-hover {
    transition: var(--transition-all);
  }

  .card-hover:hover {
    box-shadow: var(--shadow-md);
    border-color: var(--color-gray-300);
    transform: translateY(-1px);
  }

  .card-body {
    padding: var(--spacing-6);
  }

  .card-header {
    padding: var(--spacing-4) var(--spacing-6);
    background-color: var(--color-gray-50);
    border-bottom: 1px solid var(--color-gray-200);
    font-weight: 600;
    color: var(--color-gray-900);
  }

  .card-footer {
    padding: var(--spacing-4) var(--spacing-6);
    background-color: var(--color-gray-50);
    border-top: 1px solid var(--color-gray-200);
  }

  /* Badge Components */
  .badge {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-1);
    padding: var(--spacing-1) var(--spacing-2);
    font-size: var(--font-size-xs);
    font-weight: 500;
    line-height: var(--line-height-tight);
    border-radius: var(--radius-full);
  }

  .badge-primary {
    background-color: var(--color-brand-100);
    color: var(--color-brand-800);
  }

  .badge-success {
    background-color: var(--color-success-100);
    color: var(--color-success-800);
  }

  /* Alert Components */
  .alert {
    padding: var(--spacing-4);
    border-radius: var(--radius-md);
    border-left: 4px solid;
    margin-bottom: var(--spacing-4);
  }

  .alert-success {
    background-color: var(--color-success-50);
    border-left-color: var(--color-success-400);
    color: var(--color-success-700);
  }

  .alert-info {
    background-color: var(--color-brand-50);
    border-left-color: var(--color-brand-400);
    color: var(--color-brand-700);
  }

  /* Icon System */
  .icon {
    display: inline-block;
    width: 1rem;
    height: 1rem;
    stroke: currentColor;
    stroke-width: 1.5;
    fill: none;
    flex-shrink: 0;
  }

  .icon-xs {
    width: 0.75rem;
    height: 0.75rem;
    stroke-width: 2;
  }

  .icon-sm {
    width: 0.875rem;
    height: 0.875rem;
    stroke-width: 1.5;
  }

  .icon-lg {
    width: 1.25rem;
    height: 1.25rem;
    stroke-width: 1.5;
  }

  .icon-xl {
    width: 1.5rem;
    height: 1.5rem;
    stroke-width: 1;
  }

  .icon-2xl {
    width: 2rem;
    height: 2rem;
    stroke-width: 1;
  }

  .icon-3xl {
    width: 2.5rem;
    height: 2.5rem;
    stroke-width: 0.5;
  }

  /* Icon rotation utilities */
  .icon-rotate-90 {
    transform: rotate(90deg);
  }

  .icon-rotate-180 {
    transform: rotate(180deg);
  }

  .icon-rotate-270 {
    transform: rotate(270deg);
  }

  /* Semantic icon direction utilities */
  .icon-down {
    transform: rotate(90deg);
  }

  .icon-left {
    transform: rotate(180deg);
  }

  .icon-up {
    transform: rotate(270deg);
  }

  /* Icon with smooth transitions */
  .icon-animated {
    transition: transform var(--transition-all);
  }

  /* Icon with text combinations */
  .btn .icon {
    width: 1rem;
    height: 1rem;
  }

  .btn-sm .icon {
    width: 0.875rem;
    height: 0.875rem;
  }

  .btn-lg .icon {
    width: 1.25rem;
    height: 1.25rem;
  }

  /* Icon colors */
  .icon-brand {
    color: var(--color-brand-600);
  }

  .icon-success {
    color: var(--color-success-600);
  }

  .icon-warning {
    color: var(--color-warning-600);
  }

  .icon-error {
    color: var(--color-error-600);
  }

  .icon-gray {
    color: var(--color-gray-500);
  }
}

/* WordPress 6.6+ Global Underline Fix */
/* Fixes WordPress global CSS: a:where(:not(.wp-element-button)) { text-decoration: underline; } */
:root :where(a:where(:not(.wp-element-button))) {
  text-decoration: none;
}

/* All product card CSS has been fully migrated to Tailwind utility classes */
/* All styling is now handled by Tailwind classes in markup */
